<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>问问题-农技培训平台-慧农移动在线</title>
		<link rel="stylesheet" th:href="@{/ipcss/Ask-qusetions.css}">
		<link rel="shortcut icon" type="img/x-icon" th:href="@{/images/login.ico}"/>
		<link rel="stylesheet" th:href="@{/font-awesome-4.7.0/css/font-awesome.css}" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no">
		<script type="text/javascript" th:src="@{/ipjs/jquery.min.js}" ></script>
		<script th:src="@{/ipjs/ipindex.js}"></script>
	</head>
	<body>
		<form action="">
			<div class="header">
					<span style="padding-left: 4%;"><a th:href="@{/user/toipindex}" id="back-ipindex"><i class="iconfont">&#xe6b4;</i></a></span>
					<span style="margin-left: 35%;">问问题</span>
					<span style="margin-right: 4%;float: right;"><input type="submit" value="保存" class="btn-keep"/></span>
			</div>
			<div class="qusetion-show">
				          <!--内容区域-->
            <div class="kuang">
                <div class="content">
                    <div class="font">
                        <div style=""><i class="iconfont">&#xe667;</i>温馨提醒：</div>
                        <div style="">专家没有实地指导，仅是主观描述，专家可给的帮助建议仅供参考，具体以实际情况在当地部门指导下进行
                            <i class="iconfont">&#xe67b;</i>
                        </div>
                    </div>
					<form th:action="@{/user/toaddIpData}" enctype="multipart/form-data" method="post">
                    <div class="qusetion">
                    	<div style="margin-bottom: 10px;">
                    		问题分类：
							<select id="city" >
								<option selected>请选择</option>
								<option th:each="moudel : ${moudels}" th:value="${moudel.mouldeId}"  th:text="${moudel.moduleName}">请选择</option>
							</select>
                    	</div>
                        <p style="margin-bottom: 10px">问题描述：</p>
						<input type="hidden" value="2" name="dataLevle">
                        <textarea name="" id="" cols="30" rows="10">
                        </textarea>
                        <p style="color:#999;font-size: 12px">注：详细说明问题的情况，描述得越仔细，获得准确回答的机会越大</p>
                    </div>
                    <div class="picture">
                        <p style="margin-bottom: 10px">上传图片：</p>
                        <div class="upload" style="border: none">
							<div class="all-photo" onclick="photoup()">
								<div class="all-photo-right" style="width: 100px;height: 100px;">
									<img th:src="@{/img/null.png}" id="imgshow" style="width: 100px;height: 100px;"/>
								</div>
							</div>
							<!--<input type="text" style="display: none" name="userId" th:value="${user.userId}">-->
							<input id="fileds" style="display: none;" name="multipartFile" type="file" accept="image/*" value="上传图片" />
							<!--<input type="button" th:value="上传" class="upload_img">-->
                        </div>
						<input type="submit" value="完成" class="finish">
                    </div>
					</form>
                </div>
            </div>
			</div>
		</form>
	</body>
	<script>
        function photoup() {
            //console.log('14212');
            $('#fileds').click();
            $('#fileds').change(function() {
                //获取input file的files文件数组;
                //$('#filed')获取的是jQuery对象，.get(0)转为原生对象;
                //这边默认只能选一个，但是存放形式仍然是数组，所以取第一个元素使用[0];
                var file = $('#fileds').get(0).files[0];
                //创建用来读取此文件的对象
                var reader = new FileReader();
                //使用该对象读取file文件
                reader.readAsDataURL(file);
                //读取文件成功后执行的方法函数
                reader.onload = function(e) {
                    //读取成功后返回的一个参数e，整个的一个进度事件
                    //选择所要显示图片的img，要赋值给img的src就是e中target下result里面
                    //的base64编码格式的地址
                    $('#imgshow').get(0).src = e.target.result;
                }
            })
        }

	</script>
</html>
